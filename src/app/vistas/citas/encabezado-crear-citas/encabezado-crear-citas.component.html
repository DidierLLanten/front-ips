<p-toast></p-toast>
<div class="card flex-container">
  <span class="p-float-label margin-custom">
    <p-dropdown
      [options]="especialidades"
      [(ngModel)]="especialidadSeleccionada"
      placeholder="Especialidad"
      optionLabel="especialidad"
      inputId="float-label"
      (onChange)="filtrarPorEspecialidad()"
    ></p-dropdown>
    <label for="float-label">Especialidad</label>
  </span>

  <span
    class="p-float-label margin-custom"
    *ngIf="medicosEspecialistasOriginal"
  >
    <p-dropdown
      [options]="medicosEspecialistasOriginal"      
      placeholder="Doctor"
      optionLabel="apellidoNombre"
      inputId="float-label"
      (onChange)="onMedicoSeleccionadoChange($event)"
      [showClear]="true"
    ></p-dropdown>
    <label for="float-label">Doctor</label>
  </span>

  <p-calendar
    *ngIf="medicosEspecialistasOriginal"
    [(ngModel)]="fechaSeleccionada"
    [showIcon]="true"
    placeholder="Fecha de citas"
    [minDate]="fechaActual"
    class="margin-custom"
  ></p-calendar>

  <div class="flex-items margin-custom">
    <p-button
      label="Buscar"
      styleClass="p-button-raised"
      icon="pi pi-search"
      (onClick)="enviarMedicoFechaCitas()"
      [disabled]="!fechaSeleccionada || !medicoSeleccionado"
    ></p-button>
  </div>  
</div>

<h2 *ngIf="medicoSeleccionado?.id">Informacion Doctor</h2>
<div class="container-info-doctor" *ngIf="medicoSeleccionado?.id">
  <div
    class="card flex-inline flex flex-row justify-content-center flex-wrap gap-2 p-fluid"
    style="padding: 20px"
  >
    <div class="flex flex-row gap-3">
      <label htmlFor="numeroDocumento">Cédula</label>
      <input
        id="numeroDocumento"
        type="text"
        pInputText
        [disabled]="true"
        value="{{ medicoSeleccionado.persona.numeroDocumento }}"
        class="opacidad-texto"
      />
    </div>
    <div>
      <label htmlFor="nombre">Nombre</label>
      <input
        id="nombre"
        type="text"
        pInputText
        [disabled]="true"
        value="{{
          medicoSeleccionado.persona.nombre +
            ' ' +
            medicoSeleccionado.persona.apellido
        }}"
        class="opacidad-texto"
      />
    </div>

    <div>
      <label htmlFor="telefono">Teléfono</label>
      <input
        id="telefono"
        type="text"
        pInputText
        [disabled]="true"
        value="{{ medicoSeleccionado.persona.telefono }}"
        class="opacidad-texto"
      />
    </div>
    <div>
      <label htmlFor="correo">Correo</label>
      <input
        id="correo"
        type="text"
        pInputText
        [disabled]="true"
        value="{{ medicoSeleccionado.persona.correo }}"
        class="opacidad-texto"
      />
    </div>
  </div>
</div>
